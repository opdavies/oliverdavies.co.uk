<p><a href="https://www.drupal.org/project/reroute_email">Reroute Email</a> module uses <code>hook_mail_alter()</code> to prevent emails from being sent to users from non-production sites. It allows you to enter one or more email addresses that will receive the emails instead of delivering them to the original user.</p>
<p><a href="https://www.drupal.org/project/reroute_email">Reroute Email</a> module uses <code>hook_mail_alter()</code> to prevent emails from being sent to users from non-production sites. It allows you to enter one or more email addresses that will receive the emails instead of delivering them to the original user.</p>

<blockquote>
  <p>This is useful in case where you do not want email sent from a Drupal site to reach the users. For example, if you copy a live site to a test site for the purpose of development, and you do not want any email sent to real users of the original site. Or you want to check the emails sent for uniform formatting, footers, ...etc.</p>
</blockquote>

<p>As we don't need the module configured on production (we don't need to reroute any emails there), it's best to do this in code using settings.local.php (if you have one) or the standard settings.php file.</p>

<p>The first thing that we need to do is to enable rerouting. Without doing this, nothing will happen.</p>

<pre><code class="language-php">$conf['reroute_email_enable'] = TRUE;
</code></pre>

<p>The next option is to whether to show rerouting description in mail body. I usually have this enabled. Set this to TRUE or FALSE depending on your preference.</p>

<pre><code class="language-php">$conf['reroute_email_enable_message'] = TRUE;
</code></pre>

<p>The last setting is the email address to use. If you're entering a single address, you can add it as a simple string.</p>

<pre><code class="language-php">$conf['reroute_email_address'] = 'person1@example.com';
</code></pre>

<p>In this example, all emails from the site will be rerouted to person1@example.com.</p>

<p>If you want to add multiple addresses, these should be added in a semicolon-delimited list. Whilst you could add these also as a string, I prefer to use an array of addresses and the <code>implode()</code> function.</p>

<pre><code class="language-php">$conf['reroute_email_address'] = implode(';', array(
  'person1@example.com',
  'person2@example.com',
  'person3@example.com',
));
</code></pre>

<p>In this example, person2@example.com and person3@example.com would receive their emails from the site as normal. Any emails to addresses not in the array would continue to be redirected to person1@example.com.</p>
